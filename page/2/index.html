<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>KangShan</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This is kang&apos;s website.">
<meta property="og:type" content="website">
<meta property="og:title" content="KangShan">
<meta property="og:url" content="https://kangshanr.github.io/page/2/index.html">
<meta property="og:site_name" content="KangShan">
<meta property="og:description" content="This is kang&apos;s website.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="KangShan">
<meta name="twitter:description" content="This is kang&apos;s website.">
<link rel="publisher" href="kangshan9988@gmail.com">
  
    <link rel="alternate" href="/atom.xml" title="KangShan" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">KangShan</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Welcome to my website.</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://kangshanr.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-mybatis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/31/mybatis/" class="article-date">
  <time datetime="2017-08-31T05:12:34.000Z" itemprop="datePublished">2017-08-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/31/mybatis/">Mybatis框架的应用与理解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="mybatis框架的使用与理解"><a href="#mybatis框架的使用与理解" class="headerlink" title="mybatis框架的使用与理解"></a>mybatis框架的使用与理解</h2><h4 id="Mybatis与JDBC"><a href="#Mybatis与JDBC" class="headerlink" title="Mybatis与JDBC"></a>Mybatis与JDBC</h4><p><strong>概述：</strong></p>
<ol>
<li>MyBatis是一个半自动的面向sql的orm框架；</li>
<li>JDBC全称：java database connectivity，是java封装在在java.sql包里的API，其设计目的在于连接数据库，通过java语言实现sql查询语言在数据库中的操作；</li>
<li>Mybatis就是对JDBC的封装，使其操作数据库更为灵活，更多的数据与实体之间的映射交给配置文件来实现；</li>
<li><strong>JDBC</strong>作为java连接数据库的底层框架，<ol>
<li><strong>实现数据库连接功能的步骤：</strong><ol>
<li>加载驱动</li>
<li>获取数据库连接</li>
<li>准备语句（获取状态对象）</li>
<li>执行语句</li>
<li>处理结果集</li>
<li>关闭数据库（释放资源）</li>
<li>异常处理</li>
</ol>
</li>
<li>可以看到在整个流程中的<strong>JDBC功能实现的缺陷</strong>：<ol>
<li>jdbc的硬编码不方便维护，需要不停地连接、释放数据库资源；</li>
<li>参数绑定在硬编码中，查询条件不定，修改语句也不方便；</li>
</ol>
</li>
<li>所以，就有了MyBatis存在的必要；</li>
</ol>
</li>
</ol>
<hr>
<h3 id="MyBatis的实现"><a href="#MyBatis的实现" class="headerlink" title="MyBatis的实现"></a>MyBatis的实现</h3><p><strong>在一个工程中要使用MyBatis框架：</strong></p>
<ol>
<li>将MyBatis的核心包、依赖包引入。如果是Maven项目，直接在pom.xml中引入依赖：<pre><code>&lt;dependencies&gt;
&lt;!-- 实现连接数据库的包 --&gt;
  &lt;dependency&gt;
      &lt;groupId&gt;mysql&lt;/groupId&gt;
      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
      &lt;version&gt;5.1.37&lt;/version&gt;
  &lt;/dependency&gt;
&lt;!-- 日志记录的包 --&gt;
  &lt;dependency&gt;
      &lt;groupId&gt;log4j&lt;/groupId&gt;
      &lt;artifactId&gt;log4j&lt;/artifactId&gt;
      &lt;version&gt;1.2.17&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;
      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;
      &lt;version&gt;1.7.21&lt;/version&gt;
  &lt;/dependency&gt;
&lt;!-- 实现测试包 --&gt;
  &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.12&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
  &lt;/dependency&gt;
  &lt;!-- mybatis核心包 --&gt;
&lt;dependency&gt;
        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
        &lt;version&gt;3.4.2&lt;/version&gt;
&lt;/dependency&gt;
  &lt;/dependencies&gt;
</code></pre></li>
<li><p>引入相关的jar包后，就可以对mybatis进行配置：</p>
<ol>
<li><p>mybatis.xml文件中，配置mybatis的标签是：</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;  
&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
    &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;

&lt;configuration&gt;

    &lt;!-- 引入配置文件 --&gt;
    &lt;properties resource=&quot;jdbc.properties&quot; /&gt;

    &lt;!--自定义别名 --&gt;
    &lt;typeAliases&gt;
        &lt;!--定义单个别名 ,不区别大小写 --&gt;
        &lt;!-- &lt;typeAlias type=&quot;com.woniuxy.mybatis.entity.User&quot; alias=&quot;user&quot;/&gt; --&gt;
        &lt;!-- 批量定义别名，该包内所有的类的类名直接作为别名，不区分大小写 --&gt;
        &lt;package name=&quot;com.woniuxy.mybatis.entity&quot; /&gt;
    &lt;/typeAliases&gt;

    &lt;!-- jdbc的配置信息 --&gt;
    &lt;environments default=&quot;development&quot;&gt;
        &lt;environment id=&quot;development&quot;&gt;
            &lt;!-- 配置事务管理器 --&gt;
            &lt;transactionManager type=&quot;JDBC&quot; /&gt;
            &lt;!-- 数据库连接池 --&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;property name=&quot;driver&quot; value=&quot;${jdbc.driver}&quot; /&gt;
                &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;
                &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;
                &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;

    &lt;!-- 映射资源 --&gt;
    &lt;mappers&gt;
        &lt;mapper resource=&quot;mappings/Users.xml&quot; /&gt;
        &lt;mapper resource=&quot;mappings/UserMapper.xml&quot; /&gt;
    &lt;/mappers&gt;

&lt;/configuration&gt;
</code></pre><ul>
<li>其根标签是：<code>&lt;configuration&gt;</code></li>
<li>解析上述各标签：<ul>
<li>properties:属性文件的引入，将java属性文件引入到该配置文件中，如上所述：引入了jdbc.properties文件，就可以在配置数据源属性时，通过点位符&amp;｛｝来获取到装配进来的属性文件中的属性值；</li>
<li>typeAliases:别名的设定，可以指定单个类的别名，也可以使用子标签<code>package</code> 指定整个包的别名为类的simpleName;</li>
<li>environments配置中，除了配置了JDBC数据库连接信息(数据源类型：POOLED)外,还得设定事务管理器类型：JDBC；</li>
<li>mappers:映射各个实体类或映射类配置文件到此配置文件中去；</li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li><p>mappers中的配置文件：</p>
<ul>
<li><p>Users.xml文件是指定了这个user类与数据库中操作的方法，包括这些方法的参数与返回值类型；</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE mapper
    PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
    &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;

&lt;mapper namespace=&quot;test2&quot;&gt;

    &lt;!-- 根据id获取用户信息 --&gt;
    &lt;select id=&quot;findUserById&quot; parameterType=&quot;int&quot; resultType=&quot;User&quot;&gt;
        SELECT * FROM t_user WHERE ID = #{id}
    &lt;/select&gt;

    &lt;!-- 根据用户名获取用户列表 --&gt;
    &lt;select id=&quot;findUserByUsername&quot; parameterType=&quot;string&quot; resultType=&quot;User&quot;&gt;
        SELECT * FROM t_user WHERE user_name like &apos;%${value}%&apos;
    &lt;/select&gt;

    &lt;!-- 添加用户数据 --&gt;
    &lt;insert id=&quot;saveUserInfo&quot; parameterType=&quot;User&quot;&gt;
        &lt;!-- 使用selectkey返回插入数据的id --&gt;
        &lt;selectKey keyColumn=&quot;id&quot; keyProperty=&quot;id&quot; resultType=&quot;int&quot; order=&quot;AFTER&quot;&gt;
            SELECT LAST_INSERT_ID()
        &lt;/selectKey&gt;
        &lt;!-- 如果主键使用uuid，则可以通过下面方法把id转出 --&gt;
        &lt;!-- &lt;selectKey keyProperty=&quot;id&quot; resultType=&quot;string&quot; order=&quot;BEFORE&quot;&gt;
            SELECT UUID()
        &lt;/selectKey&gt; --&gt;
        INSERT INTO t_user(user_name,cnname,sex,mobile,email,note) VALUES 
        (#{user_name},#{cnname},#{sex},#{mobile},#{email},#{note})
    &lt;/insert&gt;

    &lt;!-- 删除数据 --&gt;
    &lt;delete id=&quot;deleteUserById&quot; parameterType=&quot;int&quot;&gt;
        DELETE from t_user where id=#{value}
    &lt;/delete&gt;

    &lt;!-- 更新数据 --&gt;
    &lt;update id=&quot;updateUserInfo&quot; parameterType=&quot;User&quot;&gt;
        UPDATE t_user SET
        user_name=#{user_name},cnname=#{cnname},sex=#{sex},mobile=#{mobile},email=#{email},note=#{note} 
        WHERE id=#{id}
    &lt;/update&gt;

&lt;/mapper&gt;
</code></pre><ul>
<li><code>#{}</code>与<code>${}</code>的区别：<ul>
<li><code>#{}</code><ul>
<li>表示占位符号，相当于实现了JDBC中的paparedStatement占位符的作用，也就实现了防止sql注入；</li>
<li>同时实现了java类型与jdbc类型转换，可以接收简单类型值与pojo属性值；</li>
<li>如果传输单个简单类型值，｛｝中可以是value或其它名称；</li>
</ul>
</li>
<li><code>${}</code><ul>
<li>表示sql字符串拼接，也就是将｛｝中的内容拼接在sql中且不进行jdbc类型转换；</li>
<li>可以接收简单类型值或pojo值，如果是简单类型值｛｝中只能是’value’;</li>
</ul>
</li>
</ul>
</li>
<li><p>文档头可以看出这是mabatis3映射的定义文档类型，所以其根标签为<code>mapper</code>，其中各子标签或属性：</p>
<ul>
<li>namespace属性，指定其命名空间，这样在其它地方要调用此配置文件中的各语句时，就需要通过这个命名空间来访问到此文档中定义id的各个语句，通过session对象的方法来调用时，这些语句就作为参数执行方法：`session.selectOne(“findUserById()”,user)；</li>
<li><p>session的来源：</p>
<pre><code>/**
 * 测试前的预备工作
 */
@Before
public void before(){
    System.out.println(Before.class);

    try {
        // 读入mybatis配置文件到输入流中
        is = Resources.getResourceAsStream(&quot;mybatis.xml&quot;);
        factoryBuilder = new SqlSessionFactoryBuilder();
        //使用输入流创建sqlSessionFactory
        factory = factoryBuilder.build(is);
        //打开sqlSession
        session = factory.openSession();
    } catch (IOException e) {
        e.printStackTrace();
    }
}
</code></pre><ul>
<li>上述代码是利用junit包实现了测试功能，@Before注解标这个方法在@Test方法之前运行，从该方法就可以看出myBaitis的运行流程：<ul>
<li>将mybatis.xml配置文件读放流中，再使用sessionFactoryBuilder对该流进行创建工厂（抽象工厂模式）；</li>
<li>调用工厂的openSession()方法打开会话，获得sesison实例；</li>
<li>操作数据库最后一步就是调用session对象的方法：<code>List&lt;User&gt; users = session.selectList(&quot;test.findUserByUsername&quot;, &quot;k&quot;);</code><ul>
<li>这儿的test就是之前指定的namespace，这儿指定的id的语句执行，并将另外的参数传入，形成完整的sql语句；</li>
</ul>
</li>
</ul>
</li>
<li>这个流程是最初级的，而我们现实中常常不使用这样的形式，而使用接口来将所有<strong>方法的调用都交由接口来实现：</strong><ul>
<li>在获取到session时，就通过<strong>session.getMapper(Class<t> mapper)方法来获取到相关的mapper接口的对象</t></strong>，而在使用过程中，就直接调用这个接口对象的方法（方法执行时就调用相应的语句执行），这个方法与语句之间映射就由指定了nameSpace的xml配置文件来实现，这种方法实现原理叫Mapper动态代理；</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ol>
<ul>
<li><strong>从上面的例子就可以看出Mybatis解决了的jdbc的问题：</strong><ul>
<li>数据库的链接的创建与释放者造成系统资源的浪费，而使用数据库连接池就可以此问题，在Mybatis的配置中设置；</li>
<li>sql语句写在java代码中造成的不易维护，而Mybatis就将这些sql语句配置在相应的配置文件中，这样就与java代码实现了分离；</li>
<li>使用映射好的java对象来作为sql语句的statemente的参数，而不用像在jdbc的执行方法中定义输入参数的类型；</li>
<li>对于结果集的解析在JDBC中需要一层层遍历，并将各个属性封装到entity中再装入集合中。Mybatis将这些封装好，直接将结果映射到java对象中；</li>
</ul>
</li>
<li>同时，上面例子并没有在持久层操作，也就是DAO层并没有进行开发，直接使用在TEST中进行调用抽象工厂的构造方法来构造工厂与sqlSession，再用sqlSession对象的方法，sqlSession的方法中调用配置好的sql语句与参数；</li>
<li>如果要实现持久层的开发不过是把上面构造SqlSessionFactory/SqlSession的方法封装进Dao类中实现；</li>
</ul>
<hr>
<h3 id="使用Mapper代理开发"><a href="#使用Mapper代理开发" class="headerlink" title="使用Mapper代理开发"></a>使用Mapper代理开发</h3><h4 id="概述："><a href="#概述：" class="headerlink" title="概述："></a>概述：</h4><ul>
<li><strong>动态代理开发</strong>，就是让生成Mapper对象的这个过程交给SqlSession对象的getMapper（Class<t> mapper)方法，这时的SqlSession可以理解为工厂，也就是通过了工厂来构造获取Mapper接口的对象；</t></li>
<li>Mapper对象就是Mapper接口的实例，这个接口与写好相关的mapper.xml配置文件相关联，Mybatis就用这个接口作为代理与被代理的mapper的公共接口，这个对象的方法执行时就与相关联的Mapper.xml配置文件里的sql语句来执行sql方法；</li>
<li>Mapper接口与Mapper.xml配置文件相关联的规则（此规则由Mybatis规定，符合此规则便形成关联）：<ul>
<li>Mapper.xml文件中的namespce与mapper接口的类路径相同；</li>
<li>Mapper接口方法名和Mapper.xml中定义的每个statement的id相同；</li>
<li>接口方法的输入参数类型和配置文件中的sql的parameterType的类型相同；</li>
<li>接口方法的返回数据类型与配置文件中的resultType类型相同的；</li>
</ul>
</li>
<li>实现代理开发就意味着之前的session方法执行都交给这个Mapper对象，所有的操作方法都由这个接口定义，调用这个方法就只用传入定义的参数类型，这也就<strong>实现了由Mapper对象的方法来代理SqlSession对象中的操作数据库的方法</strong>(<em>这儿涉及到代理<a href="http://kangshan.oschina.io/2016/06/13/DesignPattern/" title="设计模式" target="_blank" rel="external">设计模式</a>的理解</em>)，相对于直接使用SqlSession的各种执行方法更为简便；<ul>
<li><strong>动态代理开发中的小点：</strong><ul>
<li>动态代理在使用时，Mybatis会生成一个动态代理对象，至于这个动态代理对象会调用SqlSession的的selectOne()方法还是selectList()方法根据定义的mapper接口方法的返回值决定，如果返回List则调用selectList()方法，如果返回单个对象就调用selectOne()方法；</li>
<li>使用mapper代理开发就不用写mapper接口实现类，输入参数也可以直接使用map对象或pojo对象，保证了dao的通用性；</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/31/mybatis/" data-id="cj7hs6lbo002v2sqn9s9xfypo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/programming/">programming</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-sql_optimize" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/31/sql_optimize/" class="article-date">
  <time datetime="2017-08-31T04:04:38.000Z" itemprop="datePublished">2017-08-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/31/sql_optimize/">sql优化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="sql优化"><a href="#sql优化" class="headerlink" title="sql优化"></a>sql优化</h1><blockquote>
<p>当数据库的数据量达到一定级别时，sql优化对于一个项目的数据访问尤其重要。<br>本文就对于一个项目的数据库的sql优化作出一些归纳。</p>
</blockquote>
        
          <p class="article-more-link">
            <a href="/2017/08/31/sql_optimize/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/31/sql_optimize/" data-id="cj7urop7l00030sqn2z9b54ae" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/database/">database</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/programming/">programming</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Struts2_vs_SpringMVC" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/31/Struts2_vs_SpringMVC/" class="article-date">
  <time datetime="2017-08-30T18:04:38.000Z" itemprop="datePublished">2017-08-31</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/31/Struts2_vs_SpringMVC/">Struts2与SpringMVC的对比</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Struts2和SpringMVC的对比"><a href="#Struts2和SpringMVC的对比" class="headerlink" title="Struts2和SpringMVC的对比"></a>Struts2和SpringMVC的对比</h1><blockquote>
<p>同样是MVC架构的主流框架，两者在实现MVC的很多地方都有所不同。<br>SpringMVC作为后起之秀，在某些方面更易用。比如，其通过中央分发器实现对控制器适配器、映射器以及视图解析器的解耦合更粒度更细。</p>
</blockquote>
<h2 id="Struts2与SpringMVC的区别"><a href="#Struts2与SpringMVC的区别" class="headerlink" title="Struts2与SpringMVC的区别"></a>Struts2与SpringMVC的区别</h2><blockquote>
<p>两者之间的具体区别在这儿列出：</p>
</blockquote>
<ol>
<li>在实现拦截上：<ol>
<li>Struts2的拦截属于<strong>类级别的拦截</strong>，拦截器中的属性也为所有方法共享，也就是一个类对应一个request；</li>
<li>SpringMVC的拦截属于<strong>方法级别的拦截</strong>，一个方法对应一个request；</li>
<li>Struts2的拦截机制是自己的，而SpringMVC的拦截是通过AOP实现的，这也就让Struts2的配置要繁杂得多；</li>
</ol>
</li>
<li>上面的原因也就导致了：<ol>
<li>SpringMVC的拦截作为方法级别的拦截独享了request，response中封装的数据，而在Struts2中，请求响应的Action中的属性进行了共享，同时每次请求都会产生一个Action实例，一个Action就对应一个Request上下文；</li>
</ol>
</li>
<li>从入口上来讲：SpringMVC的入口是Servlet，而Struts2的入口是Filter；</li>
<li>AJAX的配套使用上来讲：<ol>
<li>SpringMVC集成了AJAX，使用起来只需<code>@ResponseBody</code>注解即可实现，而Struts2要实现AJAX需要额外安装插件或写代码集成进去；</li>
</ol>
</li>
<li>和Spring的衔接上讲：<ol>
<li>SpringMVC可以实现无缝地衔接Spring，Struts2与Spring的衔接需要配置得更繁杂，这让SpringMVC在项目的管理和安全上更好；</li>
</ol>
</li>
<li>从设计思想上讲：<ol>
<li>Struts2更符合OOP，而SpringMVC是在Servlet上扩展，和Spring都利用了强大的AOP和DI；</li>
</ol>
</li>
<li>SpringMVC可以说是零配置，开发效率性能比Struts2高；</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/31/Struts2_vs_SpringMVC/" data-id="cj7urop7l00010sqnq6feufpx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/framework/">framework</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/programming/">programming</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/springmvc/">springmvc</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/struts2/">struts2</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Mybatis_dynamic_proxy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/29/Mybatis_dynamic_proxy/" class="article-date">
  <time datetime="2017-08-29T05:04:38.000Z" itemprop="datePublished">2017-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/29/Mybatis_dynamic_proxy/">Mybatis中的动态代理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Mybatis中动态代理的运用"><a href="#Mybatis中动态代理的运用" class="headerlink" title="Mybatis中动态代理的运用"></a>Mybatis中动态代理的运用</h1><blockquote>
<p>在Mybatis框架中，实现sql语句的与接口的映射用到的就是动态代理。下面简要地分析下动态代理模式的实现在这其中的运用。
        
          <p class="article-more-link">
            <a href="/2017/08/29/Mybatis_dynamic_proxy/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/29/Mybatis_dynamic_proxy/" data-id="cj7rovhav00037cqnp9lkbe4g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/framework/">framework</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/programming/">programming</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Mybatis_cache" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/29/Mybatis_cache/" class="article-date">
  <time datetime="2017-08-29T05:04:38.000Z" itemprop="datePublished">2017-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/29/Mybatis_cache/">Mybatis中的缓存</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Mybatis中的缓存"><a href="#Mybatis中的缓存" class="headerlink" title="Mybatis中的缓存"></a>Mybatis中的缓存</h1><blockquote>
<p>在Mybatis查询中通过配置文件Mapper.xml中的建立的Session执行sql语句查询出的结果，一般会存放在Mybatis缓存中，在被清除之前再次执行相同的查询时，Mybatis不只用直接调用缓存中的结果，而不用再次执行一次查询语句以提高效率。
        
          <p class="article-more-link">
            <a href="/2017/08/29/Mybatis_cache/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/29/Mybatis_cache/" data-id="cj7rovhbb00067cqnxbrw4wtb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/framework/">framework</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/programming/">programming</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-adapter_pattern" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/29/adapter_pattern/" class="article-date">
  <time datetime="2017-08-29T05:04:38.000Z" itemprop="datePublished">2017-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/29/adapter_pattern/">设计模式之适配器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h1><blockquote>
<ul>
<li>适配器是行为型模式，将原有的行为经过组合进行扩展；</li>
<li>顾名思义，适配器就是将原本不适的接口或功能适配到目标对象上。</li>
<li>最简单的理解类型是缺省型适配器：将各个接口实现在一个适配器上，再让目标继承这个适配器（可省，直接用这个适配器new出对象来也一样可以实现），想扩展什么接口功能就重写相应的方法，就实现了适配器的扩展功能；
        
          <p class="article-more-link">
            <a href="/2017/08/29/adapter_pattern/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/29/adapter_pattern/" data-id="cj7hs6l9y00172sqnw8fqvt0w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/programming/">programming</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/设计模式/">设计模式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-singleton_pattern" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/29/singleton_pattern/" class="article-date">
  <time datetime="2017-08-29T04:54:30.000Z" itemprop="datePublished">2017-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/29/singleton_pattern/">设计模式之单例模式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="设计模式之单例模式"><a href="#设计模式之单例模式" class="headerlink" title="设计模式之单例模式"></a>设计模式之单例模式</h1><blockquote>
<p>单例模式是设计模式最常用到的模式之一，从字面上理解就是，该对象类只产生一个实例。这样做的理由在于开发过程中很多类（比如：管理类）都只用一个实例就够了，这样做也更节省资源。但是项目开发做会有一个多线程的问题，也就是当多个线程访问同一个类的单例时，这时会产生线程安全问题，为解决这个问题，单例模式分成了6种不同类型。
        
          <p class="article-more-link">
            <a href="/2017/08/29/singleton_pattern/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/29/singleton_pattern/" data-id="cj7hs6lbo002y2sqnlc5gafa7" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/programming/">programming</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/设计模式/">设计模式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-20170829IgotMeeting" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/29/20170829IgotMeeting/" class="article-date">
  <time datetime="2017-08-28T18:04:38.000Z" itemprop="datePublished">2017-08-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/job/">job</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/29/20170829IgotMeeting/">得到例会：关于找工作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="得到例会"><a href="#得到例会" class="headerlink" title="得到例会"></a>得到例会</h3><p>8/29/2017 9:41:18 PM<br>今天得到例会，快刀谈到找他招人的感想，觉得对自己很有用，记录下并找到之前他们拉过的清单，这儿一并引用过来，谈谈自己的看法:</p>
<p>快刀：</p>
<ol>
<li>找交互设计大咖后，站在一个招技术人才的业务管理角度上谈谈自己对来聘人员的几点看法：<ol>
<li>非应届生一定要了解应聘的公司，一定要做充足的准备；</li>
<li>自我介绍的作用：抓住重点，不能陷入自传；</li>
<li>诚实：圈子内信息透明；</li>
<li>为什么想离开？说前任公司坏话只会损坏自己形象；</li>
<li>问问题：跟以后的工作做了解的问题才是王道，关于细节上的五险一金、加班费、各种福利，这些问题都不是问业务主管的回答的；</li>
</ol>
</li>
</ol>
<hr>
<p><em>快刀与娘娘分别在罗辑思维上推过关于找工作写简历的清单，个人认为很有参考意义，这儿一并贴出来：</em></p>
<h4 id="快刀："><a href="#快刀：" class="headerlink" title="快刀："></a>快刀：</h4><blockquote>
<p><strong>关于如何准备一份制胜简历的清单</strong><br>引言：简历是公司了解求职者的第一个途径，也是求职者获取工作的敲门砖。可是，有多少人明明很优秀，却败给了一份不合格的简历？</p>
<ol>
<li><p>简历是你的第一份产品，一定要认真对待，大方得体是王道。从招聘网站下载一个垃圾模板，随便填一大堆无用的信息，谁能相信你会认真对待自己的工作？</p>
</li>
<li><p>贴照片要谨慎，只能选择清晰的大头证件照。绝不要贴游客照和婚纱照，谁知道哪个是求职的。也不要工作10年了，还贴高中的准考证照片。</p>
</li>
<li><p>除了没有任何实习经验的在校生，删掉自己在社团、学生会、班级、寝室里获得的各种奖励。它们除了告诉别人你很嫩之外，没有任何用。</p>
</li>
<li><p>要让别人从简历中看出你的经历和核心竞争力。最好做到逻辑清晰无废话，能一张纸写完绝不用两张。</p>
</li>
<li><p>个人资料的必备字段是：姓名、年龄、电话、邮箱、毕业学校。不会有任何一家正经公司，希望在简历里看到饮食口味、三围、罩杯之类的信息。</p>
</li>
<li><p>如果是做设计或产品的，简历只用一到两种字体，不要炫技。附带的作品集，保证有3-5个能代表最高水平的就好，不要连练手的作品都放进来。东西越多，机会越少。</p>
</li>
<li><p>不能加分的东西就会减分。越长的简历，越容易出错。例如，你是曼联球迷，你觉得面试官说“我也是”的机会很大。但可能初筛时，就被一个迷恋阿森纳的HR砍了。与工作无关的爱好，一笔带过，不要展开。</p>
</li>
<li><p>自我评价不要超过1条微博的长度。写800字那是高考作文，没人想看你给自己写的自传。</p>
</li>
<li><p>别作死。作死会让别人记住你，但是并不会让人招你。5年前，我在老东家时，收到过一封让我至今仍刻骨铭心的简历。邮件第一句话是，“其实我并不喜欢你们公司”，不喜欢你投简历干什么。</p>
</li>
<li><p>不要一遍又一遍的在简历里强调“我什么都不会，但是我很努力，我可以学”。活了20多年都没学会，凭什么相信你入职就能学会？</p>
</li>
<li><p>凡是列了一大堆精通，里面还有Office的，几乎都会被刷。正如凡是写精通Excel的，真正问起来，懂透视表与各种公式的，基本没有。</p>
</li>
<li><p>附件除了Word版本，最好再附一个图片或者PDF版本。附件名字不要用“个人简历”或者“我的简历”，设想一下面试官电脑里有几十份“我的简历”的情形。用“应聘XX职位-X年工作经验-姓名”就足够了，也可以加上手机号。</p>
</li>
<li><p>作为职场中人，常备一份定期更新的简历是很必要的。不要等到看到机会再准备。定期根据实际情况来增减改删，只留下能代表自己最高实力的项目详情，其他项目一笔带过。</p>
</li>
<li><p>一岗一写，不要指望一份简历包打天下。针对每一个不同的公司或者岗位，单独改写简历。这就意味着不要海投简历，提前去媒体或社交网站上，了解这个公司的创始人或者高管，有助于你针对性改写。</p>
</li>
<li><p>用什么邮箱并不重要，但不要直接发一份带附件的空白邮件。邮件正文可以简单地描述一下自己的情况，但绝对不要空。</p>
</li>
<li><p>简历的核心作用是“争取到面试机会”，不要把自己的底牌都放在简历里。可以展示项目的成果数据，但是具体做法等到面试时再说。</p>
</li>
<li><p>最后提醒一句：不要逗贫。你不知道看简历的人笑点高低，一不注意会显得Low。</p>
</li>
</ol>
</blockquote>
<hr>
<h4 id="娘娘"><a href="#娘娘" class="headerlink" title="娘娘"></a>娘娘</h4><p><strong>清单｜拿下目标职位的16个必杀技</strong></p>
<blockquote>
<p>我是脱不花，罗辑思维CEO。</p>
<p>三年来，我坚持面试加入团队的每一位员工，平均每周至少有八个小时投入在面试上。我经常会发白日梦，看着眼前面试的人，琢磨如果我是Ta，此时此刻此情此景我会做什么。</p>
<p>时间久了，这套代入法，成了一种练习，一种面对不同问题的沙盘推演。很好玩，也是内观、自省的方式。</p>
<ol>
<li><p>我不会海量投递简历。我会把所有目标单位，按照自己的评价体系，分出梯队，一次只给特定的三四家公司投简历。一批如果失败，再启动下一批。</p>
</li>
<li><p>值得纳入评价体系的公司指标包括：公司成长性、能担任重要岗位的时间周期、薪酬、认识牛人的机会和频率、是否可以获得特别敬仰的师父、行业先进性、与我特长优势的匹配度、招收同龄同届人员的规模、公司整体的审美水平。</p>
</li>
<li><p>在投出简历之前，做足功课。研究这家公司的官网或者官微；认真阅读媒体动态，特别是创始人的讲话；体验这家公司的产品，尤其是非主力产品；上论坛或者贴吧看看相关评论，但不尽信。</p>
</li>
<li><p>我会把投出的每份简历，视为对这家公司的一次特定的沟通。没有标准简历一说，每份简历都是专门准备的。</p>
</li>
<li><p>我的简历核心内容只会有一页，其他皆为附件。简历首页是有助于建立信任的基本信息，要尽可能简洁。比如毕业院校、取得的最高荣誉、能为我背书的人、目标岗位、能力匹配，还有一张体面的标准照，而不是艺术照、生活照、自拍照。</p>
</li>
<li><p>简历里附件包括：我对公司的认同和对目标工作的理解，我以往的实际经验和相应的证明人，我的其他背景资料，主动提供社交媒体账号。</p>
</li>
<li><p>我在发送简历时，不会抖机灵，不会耍幽默。只会老老实实地写一封诚恳的邮件，把核心信息写在邮件正文里，而不是扔在附件里，用最小的格式把简历做成附件，发出。不会附上特别大的图片或者其他文件，也不会需要对方多次打开不同链接，而是一个可以快速打开、一次性看完的信息组合方式。</p>
</li>
<li><p>如果我极其渴望一份特定的工作，我会努力在投递简历前，做一些外围的示好。比如，结合自己的专业，帮这家公司做一些建设性的事情。</p>
</li>
<li><p>在面试时，进入公司现场，我会注意感受整体氛围：是否够开放？人与人之间是否有很多交流？每个人的状态看起来如何？我的直觉感受是怎样的？</p>
</li>
<li><p>面试时，我会用简洁的表达方式。有问，必有答。回答中经常引用和提及在做功课时获得的公司信息，表现出对公司的熟悉度。</p>
</li>
<li><p>表现出愿意学习的态度，但要表达能为公司做的贡献，而不是表达自己是来学习的。</p>
</li>
<li><p>对薪酬问题，用坦率的态度直接谈，有弹性，但也要有底线。弹性让我不错过长期来看的好机会，底线让我避免掉进坑里。如果在薪酬上做了较大让步，开口提出建设性的办法，比如，达到什么标准公司应该加薪。</p>
</li>
<li><p>当面试官让我发问时，绝对不问五险一金和年假制度（这种有的是机会私下问HR）。我会问几个好问题，比如：我会和谁一起工作？如果我遇到问题，我可以通过哪些方式获得指导？公司鼓励什么样的沟通方式？公司希望我在三个月左右能达到什么水平？在我以前，公司里最优秀的新人是什么样的？</p>
</li>
<li><p>精心打扮，但不过分。手机调整到无声。坐下就拿出笔记本。对面试官不要叫“某总”，张嘴就叫“老师”。</p>
</li>
<li><p>永远不要让对方知道，也许我手里还有其他Offer。这种故作紧俏的做法非常不体面。有经验的面试官不会因此紧张，反而怀疑你的诚意。</p>
</li>
<li><p>简历里不写错别字。面试时一直笑眯眯。</p>
</li>
</ol>
<p><em>Q: 上面的16条心法，你在求职时做到了几条，最后的结果如何？你又有什么独家的心法呢？</em></p>
</blockquote>
<hr>
<p><strong>我的体会：</strong><br><em>总的看来，上面几十条都是在这几点：</em></p>
<ol>
<li>我很靠谱，事情交到我手上可以有交代地被移交给他人；</li>
<li>我很善于合作，我善于连接；</li>
<li>我不笨；</li>
</ol>
<p><em>另外，在这次例会中，快刀的关于找工作只是很小的一部分，只是这一点对我很有触动，全展开来了。娘娘这次的干货中很有启发的一点是：学习了一定要强制输出，每周写一篇文章发布在自己的朋友圈中，不仅仅是让自己学到底，更能让自己在朋友圈中树立一个靠谱有建树的形象，这也是重要的社交货币。</em></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/29/20170829IgotMeeting/" data-id="cj7hs6l8n00012sqnrqe2d084" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/job/">job</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-factory_pattern" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/28/factory_pattern/" class="article-date">
  <time datetime="2017-08-28T02:04:03.000Z" itemprop="datePublished">2017-08-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/programming/">programming</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/28/factory_pattern/">设计模式之工厂模式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h3><ul>
<li>生成一个类交由相关的工厂类实现，而不由直接的类来实现；</li>
<li>相关的类继承同一个接口，实现这个接口的类都可以由工厂类中同一个方法来实现实例化；</li>
<li><p>例如<strong>简单工厂模式</strong>：</p>
<pre><code>//定义同一个类的抽象接口
public interface Shape{
    void draw();
}
//实现shape接口的类有：
//Circle类
public class Circle implements Shape{
    @Override
    public void  draw(){
        system.out.println(&quot;circle.draw&quot;);
    }
}
//Square类
public class Square implements Shape{
    @Override
    public void draw(){
        system.out.println(&quot;square.draw&quot;);
    }
}
//创建实例的工厂类
public class ShapeFactory{
    //创建图形实例的方法
    public Shape createShape(String shape){
        if(shape.equalsIgnoreCase(&quot;CIRCLE”){
            return new Circle();
        }
        if(shape.equalsIgnoreCase(&quot;SQUARE”){
            return new Square();
        }
        reutnr null;
    }
}
</code></pre><ul>
<li>模式理解：<ul>
<li>通过工厂来实现对各个类的实例化，都在工厂实现；</li>
<li><strong>通过反射机制实现，增加一个同一接口的类不需要改变工厂的代码,只需要增加一个实现这个实现对应接口的类</strong>：<ul>
<li>其工厂的代码：<pre><code>public class ShapeFactory{
    //创建工厂的方法
    public Shape createShape(Class&lt;? extends Shape&gt; clazz){
        try{
            return Class.forName(clazz.getName()).newInstance();
        }catch(Exception e){
            e.printStackTrace();
        }
    }
}
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>工厂方法模式</strong></p>
<ul>
<li>相较于简单工厂模式，工厂方法模式实现了<strong>“用扩展取代修改”</strong>，简单工厂中要增加减少实现产品的构造需要对工厂的代码进行修改，而工厂方法模式将这些都放在子类的实现中；</li>
<li>示例：生产iphone与miphone两种手机，将手机与工厂的接口抽取出来，分别用不同的工厂生产不同的手机；<ul>
<li>手机接口：<pre><code>public abstract class Phone {
}
</code></pre></li>
<li>手机类：<pre><code>public class Iphone extends Phone {
    public Iphone(){
        System.out.println(&quot;Iphone.constracting.....&quot;);
    }
}
public class Miphone extends Phone {
    public Miphone(){
        System.out.println(&quot;Miphone.constracting......&quot;);
    }
}
</code></pre></li>
<li>工厂接口：<pre><code>public interface Factory {
    Phone createPhone();
}
</code></pre></li>
<li>工厂类：<pre><code>public class IphoneFactory implements Factory {
    @Override
    public Iphone createPhone() {
        return new Iphone();
    }
}
public class MiphoneFactory implements Factory {
    @Override
    public Miphone createPhone() {
        return new Miphone();
    }
}
</code></pre></li>
<li>测试：<pre><code>public static void main(String[] args) {
    //创建iphone过程，先建工厂，再在工厂中创建iphone
    IphoneFactory facIphone = new IphoneFactory();
    Iphone iphone = facIphone.createPhone();
    //创建miphone过程：
    MiphoneFactory facMiphone = new MiphoneFactory();
    Miphone miphone = facMiphone.createPhone();
}
</code></pre></li>
<li>测试结果：<pre><code>Iphone.constracting.....
Miphone.constracting......
</code></pre></li>
</ul>
</li>
<li><em>工厂方法模式将对象的创建进行了很好的包装，但也正因此而每增加一个产品的类就不得不增加一个工厂来实现其构造，这在某种程度上来说是不科学的；</em></li>
</ul>
</li>
</ul>
<h3 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h3><ul>
<li>相比较于工厂模式，抽象工厂模式在工厂模式的基础上增加生成工厂的工厂类，那么生产出来的工厂都要继承一个接口或父类；</li>
<li>该模式的优点：把同一个产品类集成到同一个工厂内，这样使用时就直接调用工厂中的方法，而生成同一个工厂里预备好的类对象，也更方便管理；</li>
<li>它是为了解决子工厂的扩展性问题，而将系列产品装配在同一个工厂中，也就实现了不同产品之间相互组合不同最终产品，而子工厂中不同产品抽取接口或父类方法出来成为抽象工厂；<ul>
<li>示例：生产手机需要手机引擎、手机音乐盒这两种产品，这两种产品分别有两种类型，那么，一个引擎加一个播放器组成一个手机产品集<ul>
<li>引擎接口：<pre><code>public interface Engine {
}
</code></pre></li>
<li>引擎产品的两个类：<pre><code>public class EngineAmd implements Engine {
    public EngineAmd(){
        System.out.println(&quot;EngineAmd.constracting....&quot;);
    }
}
public class EngineIntel implements Engine {
    public EngineIntel (){
        System.out.println(&quot;EngineIntel.constracting.......&quot;);
    }
}
</code></pre></li>
<li>音乐盒接口：<pre><code>public interface MusicBox {
}
</code></pre></li>
<li>音乐盒的两个不同产品类：<pre><code>public class NokiaMusic implements MusicBox {
    public NokiaMusic(){
        System.out.println(&quot;NokiaMusic.constracting...&quot;);
    }
}
public class SonyMusic implements MusicBox {
    public SonyMusic(){
        System.out.println(&quot;SonyMusic.constracting...&quot;);
    }
}
</code></pre></li>
<li>抽象工厂类，规定手机工厂要生产的两个产品：一个引擎一个音乐盒，这儿可以用接口也可以用抽象类<pre><code>public abstract class AbstractFactory {
    abstract Engine createEngine();
    abstract MusicBox createMusicBox();
}
</code></pre></li>
<li>两个工厂类，实现抽象工厂，实现装配两个产品到一个工厂中<pre><code>//苹果手机厂，使用intel引擎与sony的音乐盒
public class AppleFactory extends AbstractFactory {
    @Override
    public EngineIntel createEngine() {
        return new EngineIntel();
    }
    @Override
    public SonyMusic createMusicBox() {
        return new SonyMusic();
    }
}
//联想手机，使用amd的内核与Nokia的音乐盒
public class LenovoFactory extends AbstractFactory {
    @Override
    public EngineAmd createEngine() {
        return new EngineAmd();
    }
    @Override
    public NokiaMusic createMusicBox() {
        return new NokiaMusic();
    }
}
</code></pre></li>
<li>测试，将工厂创建出来由它们来创建手机的子产品<pre><code>public static void main(String[] args) {
    Apple apple4s = new Apple();
    Lenovo lenovo3 = new Lenovo();
    //apple生产过程
    AbstractFactory appleFactory = new AppleFactory();
    apple4s.engine=appleFactory.createEngine();
    apple4s.musicBox=appleFactory.createMusicBox();
    //Lenovo生产过程
    LenovoFactory lenovoFactory = new LenovoFactory();
    lenovo3.engine=lenovoFactory.createEngine();
    lenovo3.musicBox=lenovoFactory.createMusicBox();
}
</code></pre></li>
<li>测试结果：<pre><code>EngineIntel.constracting.......
SonyMusic.constracting...
EngineAmd.constracting....
NokiaMusic.constracting...
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<p><strong>Note:</strong></p>
<ul>
<li>从上面例子可以看出：<ul>
<li>抽象工厂可以实现组合产品集，一个工厂组合一个产品集，同时想要实现产品集的扩展也很方便。想要订制同一个产品集不同型号，直接实现一个工厂类。如果要不同产品集，则需要对抽象工厂进行扩展修改；</li>
</ul>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/28/factory_pattern/" data-id="cj7hs6lad001o2sqnqcu5s2uj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/programming/">programming</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/设计模式/">设计模式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-titleless" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/26/titleless/" class="article-date">
  <time datetime="2017-08-26T14:19:02.000Z" itemprop="datePublished">2017-08-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/心得笔记/">心得笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/26/titleless/">无题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>刚才重看了一遍《当幸福来敲门》，看到Chris在实习期间，为了促进与客户的联系与第一个客户去包厢看football game，这就便结识了一众上流的客户。</p>
<p>我便想到，这个时候要是我是他，我做得到吗？Chris很穷，比现阶段的我还穷，但他在与他的精英客户一起看比赛的过程中，一点也不含糊，用着最专业的语言与人交流铺垫后面的工作事务。而如果是我，我肯定会在内心深处认为自己干不了这个事。这也是一般人的的认知上的缺陷。大家都会认为自己不熟悉的东西都不是自己的东西，会直接把这些东西排除在自己的思考范围之外。Chris为什么能做到？为什么我有同样的境遇时，我会把所有松懈归因到外界？同时，我为什么会松懈？
        
          <p class="article-more-link">
            <a href="/2017/08/26/titleless/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://kangshanr.github.io/2017/08/26/titleless/" data-id="cj7hs6ldf006a2sqn9frvk9r9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/essay/">essay</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/movie/">movie</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/3/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/job/">job</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/programming/">programming</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/心得笔记/">心得笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/观影无感/">观影无感</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/essay/">essay</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/framework/">framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/igot/">igot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/job/">job</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsp/">jsp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leadingEnd/">leadingEnd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/movie/">movie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle/">oracle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/programming/">programming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/servlet/">servlet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springmvc/">springmvc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/struts2/">struts2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tale/">tale</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tips/">tips</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/协议/">协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/经济学/">经济学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计原则/">设计原则</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面向对象/">面向对象</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 10px;">C</a> <a href="/tags/C/" style="font-size: 15.71px;">C#</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/HTTP/" style="font-size: 11.43px;">HTTP</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/database/" style="font-size: 12.86px;">database</a> <a href="/tags/essay/" style="font-size: 10px;">essay</a> <a href="/tags/framework/" style="font-size: 17.14px;">framework</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/html5/" style="font-size: 10px;">html5</a> <a href="/tags/igot/" style="font-size: 12.86px;">igot</a> <a href="/tags/java/" style="font-size: 18.57px;">java</a> <a href="/tags/job/" style="font-size: 11.43px;">job</a> <a href="/tags/jsp/" style="font-size: 11.43px;">jsp</a> <a href="/tags/leadingEnd/" style="font-size: 14.29px;">leadingEnd</a> <a href="/tags/movie/" style="font-size: 11.43px;">movie</a> <a href="/tags/mysql/" style="font-size: 11.43px;">mysql</a> <a href="/tags/oracle/" style="font-size: 10px;">oracle</a> <a href="/tags/programming/" style="font-size: 20px;">programming</a> <a href="/tags/servlet/" style="font-size: 10px;">servlet</a> <a href="/tags/springmvc/" style="font-size: 10px;">springmvc</a> <a href="/tags/struts2/" style="font-size: 10px;">struts2</a> <a href="/tags/tale/" style="font-size: 10px;">tale</a> <a href="/tags/tips/" style="font-size: 11.43px;">tips</a> <a href="/tags/协议/" style="font-size: 10px;">协议</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a> <a href="/tags/算法/" style="font-size: 10px;">算法</a> <a href="/tags/经济学/" style="font-size: 10px;">经济学</a> <a href="/tags/设计原则/" style="font-size: 10px;">设计原则</a> <a href="/tags/设计模式/" style="font-size: 14.29px;">设计模式</a> <a href="/tags/面向对象/" style="font-size: 12.86px;">面向对象</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/09/15/spring_IOC/">spring反转控制的思想</a>
          </li>
        
          <li>
            <a href="/2017/09/14/jsp/">jsp的认识</a>
          </li>
        
          <li>
            <a href="/2017/09/14/javabean_property_placeholderConfigurer/">spring bean中属性覆盖器</a>
          </li>
        
          <li>
            <a href="/2017/09/13/facebook_osframe/">facebook的开源框架</a>
          </li>
        
          <li>
            <a href="/2017/09/09/Responsive_Web_Design/">前端页面之响应式布局</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 KangShan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>